---
suite: Testing `root.nameOverride` option in `service.yaml` 1/1
templates:
  - service.yaml
values:
  - values/valid/values-full.yaml
set:
  nameOverride: some-other-name
tests:
  - it: Validate use of `nameOverride` field in Service
    documentSelector:
      path: kind
      value: Service
    asserts:
      - equal:
          path: metadata.name
          value: RELEASE-NAME-some-other-name
      - equal:
          path: spec.selector["app.kubernetes.io/name"]
          value: some-other-name
      - equal:
          path: spec.selector["app.kubernetes.io/instance"]
          value: RELEASE-NAME
---
suite: Testing `root.fullnameOverride` option in `service.yaml` 1/1
templates:
  - service.yaml
values:
  - values/valid/values-full.yaml
set:
  fullnameOverride: some-other-full-name
tests:
  - it: Validate use of `fullnameOverride` field in Service
    documentSelector:
      path: kind
      value: Service
    asserts:
      - equal:
          path: metadata.name
          value: some-other-full-name
      - equal:
          path: spec.selector["app.kubernetes.io/name"]
          value: cert-manager-webhook-ovh
      - equal:
          path: spec.selector["app.kubernetes.io/instance"]
          value: RELEASE-NAME
